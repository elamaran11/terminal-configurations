set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.local/share/tmux/plugins'
# Prefix rebind
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix
# Key bindings
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %
bind -r ^ last-window
bind -r k select-pane -U
bind -r j select-pane -D
bind -r h select-pane -L
bind -r l select-pane -R
bind -r r source-file ~/.config/tmux/tmux.conf
# Options
set -g renumber-windows on
set -g default-terminal "tmux-256color"  # Setting the correct term
set -g repeat-time 250
set-window-option -g mode-keys vi
# Yazi
set -g allow-passthrough on

set -ga update-environment TERM
set -ga update-environment TERM_PROGRAM

# Custom status bar with system information (like p10k line 2)
set -g status on
set -g status-interval 5
set -g status-position bottom
set -g status-justify left

# Status bar colors (Dracula theme compatible)
set -g status-style 'bg=#282a36 fg=#f8f8f2'

# Left status (session info)
set -g status-left-length 100
set -g status-left '#[bg=#bd93f9,fg=#282a36,bold] #S #[bg=#282a36,fg=#bd93f9]'

# Right status (system information like p10k line 2)
set -g status-right-length 500
set -g status-right '#[bg=#dcfce7,fg=#166534,bold] 📡 #(ifconfig | grep '"'"'inet '"'"' | grep -v 127.0.0.1 | awk '"'"'{print $2}'"'"' | head -1) #[bg=#dbeafe,fg=#1d4ed8,bold] 📶 #(system_profiler SPAirPortDataType | grep -A 1 "Current Network" | grep -v "Current Network" | grep -v "Network Type" | head -1 | sed '"'"'s/^[[:space:]]*//'"'"' | sed '"'"'s/:$//'"'"' || echo "No WiFi") #[bg=#fdf2f8,fg=#be185d,bold] 🌡️ #(~/.local/bin/get_temp.sh) #[bg=#fdf2f8,fg=#be185d,bold] 📍 #(~/.local/bin/get_location.sh) #[bg=#d1fae5,fg=#065f46,bold] 💚 OPTIMAL #[bg=#fecaca,fg=#7f1d1d,bold] 🔥 #(uptime | awk -F"load averages:" '"'"'{print $2}'"'"' | awk '"'"'{print $1}'"'"' | sed '"'"'s/,//'"'"') #[bg=#dbeafe,fg=#1e3a8a,bold] 🧠 #(vm_stat | awk '"'"'/Pages free:/{free=$3} /Pages active:/{active=$3} /Pages inactive:/{inactive=$3} /Pages speculative:/{spec=$3} /Pages wired down:/{wired=$4} END{total=(free+active+inactive+spec+wired)*4096/1024/1024/1024; used=(active+inactive+spec+wired)*4096/1024/1024/1024; printf "%.1fG", used}'"'"') #[bg=#fef3c7,fg=#92400e,bold] 💾 #(df -h / | awk '"'"'NR==2{print $5}'"'"') #[bg=#e9d5ff,fg=#581c87,bold] ⇣ #(ifstat -i en0 1 1 2>/dev/null | tail -1 | awk '"'"'{printf "%.0f KB/s", $1}'"'"' || echo "0 KB/s") #[bg=#e9d5ff,fg=#581c87,bold] ⇡ #(ifstat -i en0 1 1 2>/dev/null | tail -1 | awk '"'"'{printf "%.0f KB/s", $2}'"'"' || echo "0 KB/s") #[bg=#fce7f3,fg=#9d174d,bold] 🔋 #(pmset -g batt | grep -o '"'"'[0-9]*%'"'"' | head -1) #[bg=#dbeafe,fg=#1d4ed8,bold] ⏰ #(uptime | awk -F'"'"'up '"'"' '"'"'{print $2}'"'"' | awk -F'"'"','"'"' '"'"'{print $1}'"'"') #[bg=#dcfce7,fg=#166534,bold] 📊 #(ps aux | wc -l | awk '"'"'{print $1-1}'"'"') #[bg=#fed7aa,fg=#c2410c,bold] 🚀 #(sysctl -n hw.ncpu)C #[bg=#dbeafe,fg=#1e3a8a,bold] 📈 #(top -l 1 | grep '"'"'CPU usage'"'"' | awk '"'"'{print $3}'"'"' | sed '"'"'s/%//'"'"') #[bg=#f3f4f6,fg=#374151,bold] 📅 #(date '"'"'+%m/%d'"'"') #[bg=#f3f4f6,fg=#374151,bold] 🕘 #(date '"'"'+%l:%M %p'"'"' | sed '"'"'s/^ *//'"'"') #[bg=default,fg=default]'

# Window status
set -g window-status-current-style 'bg=#ff79c6 fg=#282a36 bold'
set -g window-status-current-format ' #I:#W#F '
set -g window-status-style 'bg=#44475a fg=#f8f8f2'
set -g window-status-format ' #I:#W#F '

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

run '~/.local/share/tmux/plugins/tpm/tpm'
